<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: Test_unit_.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: Test_unit_.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @module Test_unit_
 * 
 * Contains unit tests.
 */

/**
 * Runs all unit tests and logs the results to the console.
 */
function runAllUnitTests() {
  tests = [
    test_decodeFleetRank_returnsCorrectFleetRank_,
    test_decodeFleetRank_returnsNullOnInvalidValues_,
    test_decodeTimestamp_returnsCorrectDate_,
    test_decodeTimestamp_returnsNullOnFalsyInput_,
    test_convertDateToParameter_returnsFormattedStringOnDateInput_,
    test_convertDateToParameter_returnsInputOnStringInput_,
    test_convertDateToParameter_returnsNullOnNonStringNonDateInput_,
    test_constructParamsObject_returnsCorrectObject_,
    test_padInt_returnsCorrectResult_,
  ];

  runTests_(tests);
}

function test_padInt_returnsCorrectResult_() {
  let testCases = [
    {input: {integer: 8, padCount: 0}, expectedResult: "8"},
    {input: {integer: 8, padCount: 1}, expectedResult: "8"},
    {input: {integer: 8, padCount: 2}, expectedResult: "08"},
    {input: {integer: 8, padCount: 10}, expectedResult: "0000000008"},
  ]

  testCases.forEach(testCase => {
    let input = JSON.stringify(testCase.input);
    let expectedResult = JSON.stringify(testCase.expectedResult);
    let result = padInt_(testCase.input.integer, testCase.input.padCount);
    assert_objects_equal_(result, testCase.expectedResult, "Input: " + input + ", expected output: " + expectedResult + ", actual output: " + JSON.stringify(result));
  });
}

function test_constructParamsObject_returnsCorrectObject_() {
  let testCases = [
    {
      input: {
        fromDate: undefined,
        toDate: undefined,
        interval: undefined,
        desc: undefined,
        skip: undefined,
        take: undefined,
      },
      expectedResult: {}
    },
    {input : {fromDate: "2024-01-01"}, expectedResult: {fromDate: "2024-01-01"}},
    {input : {fromDate: newDate_(2024, 0, 1)}, expectedResult: {fromDate: "2024-01-01 00:00:00"}},
    {input : {toDate: "2024-01-01"}, expectedResult: {toDate: "2024-01-01"}},
    {input : {toDate: newDate_(2024, 0, 1)}, expectedResult: {toDate: "2024-01-01 00:00:00"}},
    {input : {desc: false}, expectedResult: {desc: false}},
    {input : {desc: true}, expectedResult: {desc: true}},
    {input : {interval: Interval.DAILY}, expectedResult: {interval: "day"}},
    {input : {interval: "month"}, expectedResult: {interval: "month"}},
    {input : {skip: 0}, expectedResult: {skip: 0}},
    {input : {skip: "0"}, expectedResult: {skip: "0"}},
    {input : {take: 100}, expectedResult: {take: 100}},
    {input : {take: "100"}, expectedResult: {take: "100"}},
    {
      input : {
        fromDate: "2024-01-01",
        toDate: "2024-01-01",
        interval: Interval.DAILY,
        desc: false,
        skip: 0,
        take: 100,
      },
      expectedResult: 
      {
        fromDate: "2024-01-01",
        toDate: "2024-01-01",
        interval: "day",
        desc: false,
        skip: 0,
        take: 100,
      },
    },
  ]

  testCases.forEach(testCase => {
    let input = JSON.stringify(testCase.input);
    let expectedResult = JSON.stringify(testCase.expectedResult);
    let result = constructParamsObject_(testCase.input.fromDate, testCase.input.toDate, testCase.input.interval, testCase.input.desc, testCase.input.skip, testCase.input.take);
    assert_objects_equal_(result, testCase.expectedResult, "Input: " + input + ", expected output: " + expectedResult + ", actual output: " + JSON.stringify(result));
  });
}

function test_convertDateToParameter_returnsFormattedStringOnDateInput_() {
  let testCases = [
    {input: new Date(PSS_START_DATE.getTime()), expectedResult: "2016-01-06 00:00:00"},
    {input: newDate_(2024, 8, 14), expectedResult: "2024-09-14 00:00:00"},
    {input: newDate_(2024, 8, 14, 23, 45, 56), expectedResult: "2024-09-14 23:45:56"},
  ]

  testCases.forEach(testCase => {
    let result = convertDateToParameter_(testCase.input);
    assert_strictly_equal_(result, testCase.expectedResult, "Input: " + testCase.input + ", expected output: " + testCase.expectedResult + ", actual output: " + result);
  });
}

function test_convertDateToParameter_returnsInputOnStringInput_() {
  let testCases = [
    {input: "", expectedResult: ""},
    {input: "2024-09-14 00:00:00", expectedResult: "2024-09-14 00:00:00"},
    {input: "random text", expectedResult: "random text"},
  ]

  testCases.forEach(testCase => {
    let result = convertDateToParameter_(testCase.input);
    assert_strictly_equal_(result, testCase.expectedResult, "Input: " + testCase.input + ", expected output: " + testCase.expectedResult + ", actual output: " + result);
  });
}

function test_convertDateToParameter_returnsNullOnNonStringNonDateInput_() {
  let testCases = [
    {input: true},
    {input: false},
    {input: 8},
    {input: 8.1},
    {input: {}},
    {input: {key: "value"}},
    {input: []},
  ]

  testCases.forEach(testCase => {
    let result = convertDateToParameter_(testCase.input);
    assert_strictly_equal_(result, null, "Input: " + testCase.input + ", expected output: " + null + ", actual output: " + result);
  });
}

function test_decodeFleetRank_returnsCorrectFleetRank_() {
  let testCases = [
    {input: -1, expectedResult: AllianceMembership.NONE},
    {input: 0, expectedResult: AllianceMembership.FLEET_ADMIRAL},
    {input: 1, expectedResult: AllianceMembership.VICE_ADMIRAL},
    {input: 2, expectedResult: AllianceMembership.COMMANDER},
    {input: 3, expectedResult: AllianceMembership.MAJOR},
    {input: 4, expectedResult: AllianceMembership.LIEUTENANT},
    {input: 5, expectedResult: AllianceMembership.ENSIGN},
    {input: 6, expectedResult: AllianceMembership.CANDIDATE},
  ]

  testCases.forEach(testCase => {
    let result = decodeFleetRank_(testCase.input);
    assert_strictly_equal_(result, testCase.expectedResult, "Input: " + testCase.input + ", expected output: " + testCase.expectedResult + ", actual output: " + result);
  });
}

function test_decodeFleetRank_returnsNullOnInvalidValues_() {
  let testCases = [
    {input: -2},
    {input: 7},
  ]

  testCases.forEach(testCase => {
    let result = decodeFleetRank_(testCase.input);
    assert_strictly_equal_(result, null, "Input: " + testCase.input + ", expected output: " + null + ", actual output: " + result);
  });
}

function test_decodeTimestamp_returnsCorrectDate_() {
  let testCases = [
    {input: 0, expectedResult: new Date(PSS_START_DATE.getTime())},
    {input: 60, expectedResult: new Date(PSS_START_DATE.getTime() + 60000)},
    {input: 86400, expectedResult: new Date(PSS_START_DATE.getTime() + 86400000)},
  ]

  testCases.forEach(testCase => {
    let result = decodeTimestamp_(testCase.input);
    assert_equal_(result.getTime(), testCase.expectedResult.getTime(), "Input: " + testCase.input + ", expected output: " + testCase.expectedResult + ", actual output: " + result);
  });
}

function test_decodeTimestamp_returnsNullOnFalsyInput_() {
  let testCases = [
    {input: null},
    {input: undefined},
    {input: ""},
    {input: NaN},
    {input: false},
  ]

  testCases.forEach(testCase => {
    let result = decodeTimestamp_(testCase.timestamp);
    assert_equal_(result, null, "Input: " + testCase.timestamp + ", expected output: " + null + ", actual output: " + result);
  });
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="Classes_API%250A%250AThis%2520module%2520contains%2520classes%2520wrapping%2520objects%2520returned%2520by%2520the%2520PSS%2520Fleet%2520Data%2520API.module_.html">Classes_API

This module contains classes wrapping objects returned by the PSS Fleet Data API.</a></li><li><a href="Classes_Responses%250A%250AThis%2520module%2520contains%2520classes%2520wrapping%2520responses%2520returned%2520by%2520the%2520PSS%2520Fleet%2520Data%2520API.module_.html">Classes_Responses

This module contains classes wrapping responses returned by the PSS Fleet Data API.</a></li><li><a href="Client%250A%250AThis%2520module%2520contains%2520a%2520stateless%2520Pixel%2520Starships%2520Fleet%2520Data%2520API%2520client.module_.html">Client

This module contains a stateless Pixel Starships Fleet Data API client.</a></li><li><a href="Constants%250A%250AThis%2520module%2520contains%2520constants%2520used%2520in%2520other%2520modules.module_.html">Constants

This module contains constants used in other modules.</a></li><li><a href="Enums%250A%250AThis%2520module%2520contains%2520_Enums_.module_.html">Enums

This module contains "Enums".</a></li><li><a href="Helper_%250A%250AThis%2520module%2520contains%2520utility%2520functions.module_.html">Helper_

This module contains utility functions.</a></li><li><a href="Test_%250A%250AContains%2520helper%2520functions%2520for%2520testing.module_.html">Test_

Contains helper functions for testing.</a></li><li><a href="Test_integration_%250A%250AContains%2520integration%2520tests.module_.html">Test_integration_

Contains integration tests.</a></li><li><a href="Test_unit_%250A%250AContains%2520unit%2520tests.module_.html">Test_unit_

Contains unit tests.</a></li></ul><h3>Classes</h3><ul><li><a href="Classes_API%250A%250AThis%2520module%2520contains%2520classes%2520wrapping%2520objects%2520returned%2520by%2520the%2520PSS%2520Fleet%2520Data%2520API.module_-Collection.html">Collection</a></li><li><a href="Classes_API%250A%250AThis%2520module%2520contains%2520classes%2520wrapping%2520objects%2520returned%2520by%2520the%2520PSS%2520Fleet%2520Data%2520API.module_-CollectionMetadata.html">CollectionMetadata</a></li><li><a href="Classes_API%250A%250AThis%2520module%2520contains%2520classes%2520wrapping%2520objects%2520returned%2520by%2520the%2520PSS%2520Fleet%2520Data%2520API.module_-PssAlliance.html">PssAlliance</a></li><li><a href="Classes_API%250A%250AThis%2520module%2520contains%2520classes%2520wrapping%2520objects%2520returned%2520by%2520the%2520PSS%2520Fleet%2520Data%2520API.module_-PssAllianceHistory.html">PssAllianceHistory</a></li><li><a href="Classes_API%250A%250AThis%2520module%2520contains%2520classes%2520wrapping%2520objects%2520returned%2520by%2520the%2520PSS%2520Fleet%2520Data%2520API.module_-PssUser.html">PssUser</a></li><li><a href="Classes_API%250A%250AThis%2520module%2520contains%2520classes%2520wrapping%2520objects%2520returned%2520by%2520the%2520PSS%2520Fleet%2520Data%2520API.module_-PssUserHistory.html">PssUserHistory</a></li><li><a href="Classes_Responses%250A%250AThis%2520module%2520contains%2520classes%2520wrapping%2520responses%2520returned%2520by%2520the%2520PSS%2520Fleet%2520Data%2520API.module_-AllianceHistoryResponse.html">AllianceHistoryResponse</a></li><li><a href="Classes_Responses%250A%250AThis%2520module%2520contains%2520classes%2520wrapping%2520responses%2520returned%2520by%2520the%2520PSS%2520Fleet%2520Data%2520API.module_-ApiResponse_.html">ApiResponse_</a></li><li><a href="Classes_Responses%250A%250AThis%2520module%2520contains%2520classes%2520wrapping%2520responses%2520returned%2520by%2520the%2520PSS%2520Fleet%2520Data%2520API.module_-CollectionAllianceResponse.html">CollectionAllianceResponse</a></li><li><a href="Classes_Responses%250A%250AThis%2520module%2520contains%2520classes%2520wrapping%2520responses%2520returned%2520by%2520the%2520PSS%2520Fleet%2520Data%2520API.module_-CollectionAlliancesResponse.html">CollectionAlliancesResponse</a></li><li><a href="Classes_Responses%250A%250AThis%2520module%2520contains%2520classes%2520wrapping%2520responses%2520returned%2520by%2520the%2520PSS%2520Fleet%2520Data%2520API.module_-CollectionMetadatasResponse.html">CollectionMetadatasResponse</a></li><li><a href="Classes_Responses%250A%250AThis%2520module%2520contains%2520classes%2520wrapping%2520responses%2520returned%2520by%2520the%2520PSS%2520Fleet%2520Data%2520API.module_-CollectionResponse.html">CollectionResponse</a></li><li><a href="Classes_Responses%250A%250AThis%2520module%2520contains%2520classes%2520wrapping%2520responses%2520returned%2520by%2520the%2520PSS%2520Fleet%2520Data%2520API.module_-CollectionUserResponse.html">CollectionUserResponse</a></li><li><a href="Classes_Responses%250A%250AThis%2520module%2520contains%2520classes%2520wrapping%2520responses%2520returned%2520by%2520the%2520PSS%2520Fleet%2520Data%2520API.module_-CollectionUsersResponse.html">CollectionUsersResponse</a></li><li><a href="Classes_Responses%250A%250AThis%2520module%2520contains%2520classes%2520wrapping%2520responses%2520returned%2520by%2520the%2520PSS%2520Fleet%2520Data%2520API.module_-UserHistoryResponse.html">UserHistoryResponse</a></li><li><a href="Client%250A%250AThis%2520module%2520contains%2520a%2520stateless%2520Pixel%2520Starships%2520Fleet%2520Data%2520API%2520client.module_-Client.html">Client</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Thu Nov 28 2024 23:32:27 GMT+0100 (Central European Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
